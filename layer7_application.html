
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSI Layer 7: Application Layer Explained - HTTP, DNS & SMTP</title>
    <meta name="description" content="Discover OSI Layer 7 (Application Layer) where users interact with the network. Deep dive into HTTP, DNS, SMTP, and FTP with Wireshark examples.">
    <link rel="canonical" href="https://osiexplain.com/layer7_application.html">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            min-height: 100vh;
        }

        a:focus-visible,
        button:focus-visible,
        select:focus-visible {
            outline: 3px solid #f1c40f;
            outline-offset: 3px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.8em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .layer-header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }
        
        .content-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid #e74c3c;
        }
        
        .protocols-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .protocol-card {
            background: rgba(231, 76, 60, 0.3);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .wireshark-example {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
            font-family: 'Courier New', monospace;
            color: #00ff00;
            font-size: 0.9em;
        }
        
        .example-box {
            background: rgba(41, 128, 185, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        .back-button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin-bottom: 20px;
        }
        
        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .highlight {
            color: #f1c40f;
            font-weight: bold;
        }
        
        .user-experience {
            background: rgba(142, 68, 173, 0.3);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }
        
        .app-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .app-example {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .real-world {
            background: rgba(46, 204, 113, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #2ecc71;
        }
        
        /* Interactive Demo Styles */
        .interactive-demo {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid rgba(231, 76, 60, 0.5);
        }
        
        .demo-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .demo-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .demo-selector button {
            background: rgba(231, 76, 60, 0.3);
            color: white;
            border: 2px solid rgba(231, 76, 60, 0.5);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .demo-selector button:hover,
        .demo-selector button.active {
            background: rgba(231, 76, 60, 0.6);
            border-color: #e74c3c;
            transform: translateY(-2px);
        }
        
        .demo-header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .demo-title {
            font-size: 1.8em;
            color: #f1c40f;
            margin-bottom: 10px;
        }
        
        .step-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .step-title {
            font-size: 1.4em;
            color: #ecf0f1;
        }
        
        .step-counter {
            background: rgba(231, 76, 60, 0.6);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .demo-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        @media (max-width: 768px) {
            .demo-content {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }
        
        .application-box {
            background: rgba(52, 152, 219, 0.3);
            border: 2px solid rgba(52, 152, 219, 0.6);
            border-radius: 12px;
            padding: 20px;
            min-height: 150px;
        }
        
        .application-box h4 {
            color: #3498db;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .application-data {
            background: rgba(0, 0, 0, 0.4);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            color: #ecf0f1;
            font-size: 0.9em;
            white-space: pre-line;
            min-height: 100px;
            border-left: 3px solid #3498db;
        }
        
        .phase-indicator {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(231, 76, 60, 0.3);
            border-radius: 10px;
            border-left: 4px solid #e74c3c;
        }
        
        .current-phase {
            font-size: 1.1em;
            font-weight: bold;
            color: #f1c40f;
        }
        
        .explanation-box {
            background: rgba(46, 204, 113, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #2ecc71;
        }
        
        .wireshark-display {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid rgba(46, 204, 113, 0.6);
            border-radius: 8px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            color: #00ff88;
            font-size: 0.95em;
            white-space: pre-line;
            margin: 15px 0;
            min-height: 180px;
            overflow-x: auto;
        }
        
        .protocol-info {
            text-align: center;
            background: rgba(155, 89, 182, 0.3);
            padding: 10px 20px;
            border-radius: 20px;
            color: #ecf0f1;
            font-weight: bold;
            margin: 15px 0;
        }
        
        .control-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .control-buttons button {
            background: rgba(52, 152, 219, 0.6);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .control-buttons button:hover:not(:disabled) {
            background: rgba(52, 152, 219, 0.8);
            transform: translateY(-2px);
        }
        
        .control-buttons button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .step-list {
            margin-top: 25px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        
        .step-item {
            display: flex;
            align-items: center;
            padding: 8px 15px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .step-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }
        
        .step-item.active {
            background: rgba(231, 76, 60, 0.6);
            border-left: 4px solid #e74c3c;
        }
        
        .step-item.completed {
            background: rgba(46, 204, 113, 0.3);
            border-left: 4px solid #2ecc71;
        }
        
        .step-number {
            background: rgba(231, 76, 60, 0.8);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            font-size: 0.9em;
        }
        
        .step-item.completed .step-number {
            background: rgba(46, 204, 113, 0.8);
        }
        
        .step-item.active .step-number {
            background: #e74c3c;
        }
        
        .step-title {
            font-weight: 500;
        }
        
        /* Dark Mode Toggle */
        .dark-mode-toggle{position:fixed;top:20px;right:20px;z-index:1000;background:rgba(255,255,255,0.2);border:2px solid rgba(255,255,255,0.3);border-radius:25px;padding:10px 20px;cursor:pointer;backdrop-filter:blur(10px);transition:all 0.3s ease;display:flex;align-items:center;gap:8px;font-size:16px;color:white;}
        .dark-mode-toggle:hover{background:rgba(255,255,255,0.3);transform:translateY(-2px);}
        body.dark-mode{background:linear-gradient(135deg,#1a1a1a 0%,#2d2d2d 100%);}
        body.dark-mode .container{background:rgba(0,0,0,0.4);}
        body.dark-mode .content-box,body.dark-mode .protocols-list,body.dark-mode .example-box,body.dark-mode .real-world,body.dark-mode .user-experience,body.dark-mode .interactive-demo{background:rgba(0,0,0,0.5);}
    </style>
</head>
<body>
    <button type="button" class="dark-mode-toggle" onclick="toggleDarkMode()" title="Toggle Dark Mode" aria-label="Toggle dark mode" aria-pressed="false"><span id="darkModeIcon">üåô</span><span id="darkModeText">Dark Mode</span></button>
    <div class="container">
        <a href="index.html" class="back-button">‚Üê Back to OSI Overview</a>
        
        <h1>üì± Layer 7: Application Layer</h1>
        
        <div class="layer-header">
            <h2>Where Users Meet the Network</h2>
            <p>The Application Layer provides network services directly to end-user applications. It's the closest layer to the user and provides the interface between user applications and the network. This is where protocols like HTTP, FTP, and email operate.</p>
        </div>
        
        <!-- Interactive Demo Section -->
        <div class="interactive-demo">
            <h2 style="text-align: center; color: #f1c40f; margin-bottom: 30px;">üöÄ Interactive Application Layer Demo</h2>
            
            <div class="demo-selector">
                <button onclick="switchDemo('web')" class="active">üåê Web Browsing (HTTP/HTTPS)</button>
                <button onclick="switchDemo('email')">üìß Email System (SMTP/IMAP)</button>
                <button onclick="switchDemo('ftp')">üìÅ File Transfer (FTP/SFTP)</button>
                <button onclick="switchDemo('dns')">üîç DNS Resolution</button>
                <button onclick="switchDemo('streaming')">üé• Video Streaming</button>
            </div>
            
            <div class="demo-header">
                <div class="demo-title" id="demo-title">Web Browsing Experience</div>
                <div class="step-info">
                    <div class="step-title" id="step-title">1. User Types URL</div>
                    <div class="step-counter" id="step-counter">Step 1 of 5</div>
                </div>
            </div>
            
            <div class="demo-content">
                <div class="application-box">
                    <h4>üë§ User Application</h4>
                    <div class="application-data" id="user-data">
User opens web browser
Types: www.example.com
Clicks Go/Enter
                    </div>
                </div>
                
                <div class="application-box">
                    <h4>üåê Server Application</h4>
                    <div class="application-data" id="server-data">
Web server waiting...
Ready to serve content
Listening on port 80/443
                    </div>
                </div>
            </div>
            
            <div class="phase-indicator">
                <div class="current-phase" id="current-phase">Initial User Request</div>
            </div>
            
            <div class="explanation-box">
                <div id="step-explanation">
                    User initiates web browsing by typing a URL into the browser address bar. This triggers a series of Application Layer protocols working together to deliver the requested webpage.
                </div>
            </div>
            
            <div class="wireshark-display" id="wireshark-content">
Wireshark Capture - Application Layer Analysis:

[No network activity yet]
User is typing URL in browser address bar
Application preparing to make network requests
            </div>
            
            <div class="protocol-info" id="protocol-info">
                User Interface Layer - Browser Application
            </div>
            
            <div class="control-buttons">
                <button onclick="prevStep()" id="prev-btn">‚¨ÖÔ∏è Previous</button>
                <button onclick="nextStep()" id="next-btn">Next ‚û°Ô∏è</button>
                <button onclick="playDemo()" id="play-btn">‚ñ∂Ô∏è Auto Play</button>
                <button onclick="resetDemo()">üîÑ Reset</button>
            </div>
            
            <div class="step-list">
                <h4>Demo Steps:</h4>
                <div id="step-list">
                    <!-- Steps will be populated by JavaScript -->
                </div>
            </div>
        </div>
        
        <div class="content-grid">
            <div class="content-box">
                <h3>üéØ Primary Functions</h3>
                <ul>
                    <li><strong>Network Services:</strong> Providing services directly to applications</li>
                    <li><strong>User Interface:</strong> Presenting network capabilities to users</li>
                    <li><strong>Application Protocols:</strong> Defining how applications communicate</li>
                    <li><strong>Data Access:</strong> Retrieving and presenting information</li>
                    <li><strong>Resource Sharing:</strong> Enabling access to network resources</li>
                </ul>
            </div>
            
            <div class="content-box">
                <h3>üîß Key Characteristics</h3>
                <ul>
                    <li><span class="highlight">User-Facing:</span> Direct interaction with end users</li>
                    <li><span class="highlight">Protocol Rich:</span> Many different application protocols</li>
                    <li><span class="highlight">Service Oriented:</span> Provides specific network services</li>
                    <li><span class="highlight">Platform Independent:</span> Works across different systems</li>
                    <li><span class="highlight">Context Aware:</span> Understands application-specific data</li>
                </ul>
            </div>
        </div>
        
        <div class="content-box">
            <h3>üåê Major Application Layer Protocols</h3>
            <div class="protocols-list">
                <div class="protocol-card">
                    <h4>üåç HTTP/HTTPS (Web Browsing)</h4>
                    <p><strong>HyperText Transfer Protocol</strong></p>
                    <div class="wireshark-example">GET /index.html HTTP/1.1
Host: www.example.com
User-Agent: Mozilla/5.0
Accept: text/html,application/xhtml+xml</div>
                    <p><strong>What you see in Wireshark:</strong> HTTP requests and responses with headers, cookies, and content</p>
                    <small><em>Every webpage you visit uses HTTP/HTTPS</em></small>
                </div>
                
                <div class="protocol-card">
                    <h4>üìß SMTP/POP3/IMAP (Email)</h4>
                    <p><strong>Email Protocols</strong></p>
                    <div class="wireshark-example">SMTP: MAIL FROM: <user@example.com>
SMTP: RCPT TO: <friend@email.com>
SMTP: DATA (email content follows)</div>
                    <p><strong>What you see in Wireshark:</strong> Email commands, authentication, and message transfer</p>
                    <small><em>How your email client sends and receives messages</em></small>
                </div>
                
                <div class="protocol-card">
                    <h4>üìÅ FTP (File Transfer)</h4>
                    <p><strong>File Transfer Protocol</strong></p>
                    <div class="wireshark-example">FTP: USER anonymous
FTP: PASS guest@
FTP: RETR filename.txt</div>
                    <p><strong>What you see in Wireshark:</strong> Login commands, directory navigation, file transfers</p>
                    <small><em>Uploading files to websites, downloading software</em></small>
                </div>
                
                <div class="protocol-card">
                    <h4>üîç DNS (Name Resolution)</h4>
                    <p><strong>Domain Name System</strong></p>
                    <div class="wireshark-example">DNS Query: www.google.com Type A
DNS Response: 142.250.191.46
TTL: 300 seconds</div>
                    <p><strong>What you see in Wireshark:</strong> Name queries and IP address responses</p>
                    <small><em>Converting domain names to IP addresses</em></small>
                </div>
                
                <div class="protocol-card">
                    <h4>üîß DHCP (IP Configuration)</h4>
                    <p><strong>Dynamic Host Configuration Protocol</strong></p>
                    <div class="wireshark-example">DHCP Discover (broadcast)
DHCP Offer: IP 192.168.1.100
DHCP Request: Accept offer
DHCP ACK: Configuration confirmed</div>
                    <p><strong>What you see in Wireshark:</strong> IP address assignment process</p>
                    <small><em>How your computer gets its IP address automatically</em></small>
                </div>
                
                <div class="protocol-card">
                    <h4>üí¨ SSH/Telnet (Remote Access)</h4>
                    <p><strong>Remote Terminal Access</strong></p>
                    <div class="wireshark-example">SSH: Protocol version negotiation
SSH: Key exchange and authentication
SSH: Encrypted terminal session</div>
                    <p><strong>What you see in Wireshark:</strong> Connection setup and encrypted data</p>
                    <small><em>Remote control of servers and network devices</em></small>
                </div>
            </div>
        </div>
        
        <div class="user-experience">
            <h3>üë• What Users Actually See</h3>
            <p>While all the technical protocols work behind the scenes, users interact with friendly applications:</p>
            
            <div class="app-examples">
                <div class="app-example">
                    <strong>Web Browser</strong><br>
                    Uses HTTP/HTTPS<br>
                    <small>Chrome, Firefox, Safari</small>
                </div>
                <div class="app-example">
                    <strong>Email Client</strong><br>
                    Uses SMTP/IMAP<br>
                    <small>Outlook, Gmail, Apple Mail</small>
                </div>
                <div class="app-example">
                    <strong>File Manager</strong><br>
                    Uses FTP/SFTP<br>
                    <small>FileZilla, WinSCP</small>
                </div>
                <div class="app-example">
                    <strong>Video Streaming</strong><br>
                    Uses HTTP/RTSP<br>
                    <small>Netflix, YouTube</small>
                </div>
                <div class="app-example">
                    <strong>Chat Apps</strong><br>
                    Uses XMPP/Custom<br>
                    <small>WhatsApp, Slack, Teams</small>
                </div>
                <div class="app-example">
                    <strong>Cloud Storage</strong><br>
                    Uses HTTP/WebDAV<br>
                    <small>Dropbox, OneDrive, Drive</small>
                </div>
            </div>
        </div>
        
        <div class="example-box">
            <h3>üîç Real-World Example: Loading a Webpage</h3>
            <p><strong>Scenario:</strong> You type "www.google.com" in your browser and press Enter</p>
            
            <h4>What happens at the Application Layer:</h4>
            <ol>
                <li><strong>DNS Lookup:</strong> Browser uses DNS protocol to find Google's IP address</li>
                <li><strong>HTTP Request:</strong> Browser creates an HTTP GET request for the homepage</li>
                <li><strong>HTTPS Setup:</strong> If secure, establishes encrypted connection using TLS</li>
                <li><strong>Data Exchange:</strong> Server sends HTML, CSS, JavaScript using HTTP</li>
                <li><strong>Rendering:</strong> Browser interprets application data and displays webpage</li>
                <li><strong>Additional Requests:</strong> Browser makes more HTTP requests for images, ads, etc.</li>
            </ol>
            
            <div class="wireshark-example">
Wireshark Application Layer Capture:
DNS: Standard query A www.google.com
HTTP: GET / HTTP/1.1
HTTP: Host: www.google.com
HTTP: Response 200 OK
HTTP: Content-Type: text/html; charset=UTF-8
HTTP: Set-Cookie: session_id=abc123...
</div>
            <p><em>In Wireshark, you see the actual application protocols working together to deliver content to the user.</em></p>
        </div>
        
        <div class="content-grid">
            <div class="content-box">
                <h3>üêõ Common Application Layer Issues</h3>
                <ul>
                    <li><strong>Service Unavailable:</strong> Web servers down, email servers offline</li>
                    <li><strong>Authentication Problems:</strong> Wrong passwords, expired certificates</li>
                    <li><strong>Protocol Mismatches:</strong> HTTP vs HTTPS, wrong port numbers</li>
                    <li><strong>Application Bugs:</strong> Software errors in apps or protocols</li>
                    <li><strong>Configuration Errors:</strong> Wrong server settings, DNS problems</li>
                </ul>
            </div>
            
            <div class="content-box">
                <h3>üîß Troubleshooting Tools</h3>
                <ul>
                    <li><strong>Web Browser:</strong> Developer tools, network inspection</li>
                    <li><strong>Curl/Wget:</strong> Command-line HTTP testing</li>
                    <li><strong>Nslookup/Dig:</strong> DNS troubleshooting</li>
                    <li><strong>Telnet:</strong> Raw protocol testing</li>
                    <li><strong>Application Logs:</strong> Error messages from apps</li>
                </ul>
            </div>
        </div>
        
        <div class="real-world">
            <h3>üè¢ Application Layer in Business</h3>
            
            <h4>üè™ E-commerce Website</h4>
            <ul>
                <li><strong>HTTPS:</strong> Secure product browsing and checkout</li>
                <li><strong>SMTP:</strong> Order confirmation emails</li>
                <li><strong>FTP/SFTP:</strong> Uploading product images and catalogues</li>
                <li><strong>DNS:</strong> Customers finding your website</li>
            </ul>
            
            <h4>üè¢ Corporate Environment</h4>
            <ul>
                <li><strong>Email (SMTP/IMAP):</strong> Business communication</li>
                <li><strong>File Sharing (FTP/SMB):</strong> Document collaboration</li>
                <li><strong>Web Applications (HTTP/HTTPS):</strong> CRM, ERP systems</li>
                <li><strong>Remote Access (SSH/RDP):</strong> IT administration</li>
            </ul>
        </div>
        
        <div class="example-box">
            <h3>üéì Teaching Analogy: The Hotel Front Desk</h3>
            <p><strong>Think of the Application Layer like the front desk at a hotel:</strong></p>
            <ul>
                <li><strong>Guest Services (Applications):</strong> Check-in, concierge, room service - different services for different needs</li>
                <li><strong>Service Staff (Protocols):</strong> Each service has specific procedures and language</li>
                <li><strong>Guest Experience:</strong> Guests don't see the complex backend - they just want their service</li>
                <li><strong>Multiple Languages:</strong> Different protocols for different types of requests</li>
                <li><strong>Quality Control:</strong> Making sure guests get exactly what they asked for</li>
            </ul>
            <p><em>Just like hotel guests interact with the front desk for various services, users interact with Layer 7 for all network services!</em></p>
        </div>
        
        <div class="content-box">
            <h3>üìö Key Learning Points</h3>
            <ul>
                <li>Application Layer is <span class="highlight">closest to the user</span> - it's what people actually see and use</li>
                <li>Many different <span class="highlight">protocols for different services</span> - HTTP, SMTP, FTP, DNS, etc.</li>
                <li><span class="highlight">Applications hide protocol complexity</span> from users with friendly interfaces</li>
                <li>Most network problems users report are <span class="highlight">Application Layer issues</span></li>
                <li>Understanding application protocols is crucial for <span class="highlight">network troubleshooting</span></li>
                <li>Layer 7 depends on all lower layers working properly</li>
            </ul>
        </div>
        
        <div style="text-align: center; margin-top: 40px;">
            <a href="index.html" class="back-button">‚Üê Return to OSI Overview</a>
        </div>
    </div>
    
    <script>
        // Application Layer Interactive Demo
        const demo = {
            currentStep: 0,
            currentDemo: 'web',
            isPlaying: false,
            playInterval: null,
            
            demos: {
                web: {
                    name: 'Web Browsing Experience (HTTP/HTTPS)',
                    steps: [
                        {
                            title: 'User Types URL',
                            userData: 'User opens web browser\nTypes: www.example.com\nClicks Go/Enter',
                            serverData: 'Web server waiting...\nReady to serve content\nListening on port 80/443',
                            phase: 'Initial User Request',
                            explanation: 'User initiates web browsing by typing a URL into the browser address bar. This triggers a series of Application Layer protocols working together to deliver the requested webpage.',
                            wireshark: `Wireshark Capture - Application Layer Analysis:\n\n[No network activity yet]\nUser is typing URL in browser address bar\nApplication preparing to make network requests\n\nBrowser Process:\n- Parse URL: protocol=http, domain=www.example.com\n- Check cache for existing DNS records\n- Prepare to initiate network connection`,
                            protocol: 'User Interface Layer - Browser Application'
                        },
                        {
                            title: 'DNS Resolution',
                            userData: 'Browser needs IP address\nQuerying DNS server\nDNS Query: www.example.com',
                            serverData: 'DNS Server responding\nDomain: www.example.com\nIP: 93.184.216.34',
                            phase: 'Domain Name Resolution',
                            explanation: 'Browser uses DNS protocol to convert the human-readable domain name to an IP address that can be used for routing.',
                            wireshark: `Frame 1: DNS Query\nDomain Name System (query)\n    Transaction ID: 0x1234\n    Flags: 0x0100 Standard query\n    Questions: 1\n        www.example.com: type A, class IN\n        \nFrame 2: DNS Response  \nDomain Name System (response)\n    Transaction ID: 0x1234\n    Flags: 0x8180 Standard query response\n    Questions: 1\n    Answer RRs: 1\n        www.example.com: type A, class IN\n            Address: 93.184.216.34\n            TTL: 86400 (24 hours)\n            \nDNS resolution successful in 15ms`,
                            protocol: 'DNS (Domain Name System)'
                        },
                        {
                            title: 'HTTP Connection Setup',
                            userData: 'Connecting to 93.184.216.34:80\nTCP handshake complete\nSending HTTP request',
                            serverData: 'Accepting connection\nTCP established\nReady for HTTP request',
                            phase: 'HTTP Connection Establishment',
                            explanation: 'Browser establishes TCP connection to web server and prepares to send HTTP request for the webpage.',
                            wireshark: `Frame 3: TCP Connection (handled by Layer 4)\n[TCP SYN] -> [TCP SYN-ACK] -> [TCP ACK]\n\nFrame 4: HTTP Request\nHypertext Transfer Protocol\n    GET / HTTP/1.1\r\n\n    Request Method: GET\n    Request URI: /\n    Request Version: HTTP/1.1\n    Host: www.example.com\r\n\n    User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)\r\n\n    Accept: text/html,application/xhtml+xml,application/xml\r\n\n    Accept-Language: en-US,en;q=0.5\r\n\n    Accept-Encoding: gzip, deflate\r\n\n    Connection: keep-alive\r\n\n    \r\n`,
                            protocol: 'HTTP/1.1 Request'
                        },
                        {
                            title: 'Server Processing',
                            userData: 'Request sent\nWaiting for response\nDownloading content...',
                            serverData: 'Processing GET request\nGenerating HTML content\nSending HTTP response',
                            phase: 'Web Server Processing',
                            explanation: 'Web server processes the HTTP request, generates the HTML content, and sends back an HTTP response with the webpage data.',
                            wireshark: `Frame 5: HTTP Response\nHypertext Transfer Protocol\n    HTTP/1.1 200 OK\r\n\n    Response Version: HTTP/1.1\n    Status Code: 200\n    Response Phrase: OK\n    Date: Mon, 15 Jan 2024 10:30:00 GMT\r\n\n    Server: Apache/2.4.41\r\n\n    Content-Type: text/html; charset=UTF-8\r\n\n    Content-Length: 1256\r\n\n    Last-Modified: Mon, 15 Jan 2024 09:15:00 GMT\r\n\n    Connection: keep-alive\r\n\n    \r\n\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Example Domain</title>\n    </head>\n    <body>\n        <h1>Example Domain</h1>\n        <p>This domain is for use in illustrative examples...</p>\n    </body>\n    </html>`,
                            protocol: 'HTTP/1.1 Response'
                        },
                        {
                            title: 'Page Rendering',
                            userData: 'HTML received (1,256 bytes)\nParsing HTML content\nRendering webpage\nPage displayed to user',
                            serverData: 'Content delivered successfully\nConnection maintained\nReady for additional requests',
                            phase: 'Client-Side Rendering',
                            explanation: 'Browser receives HTML content, parses it, and renders the webpage for display. User sees the final webpage without knowing about all the underlying protocols.',
                            wireshark: `HTTP Transaction Complete:\n\nTraffic Summary:\n- DNS Query/Response: 2 packets, 154 bytes\n- TCP Connection Setup: 3 packets, 182 bytes  \n- HTTP Request: 1 packet, 445 bytes\n- HTTP Response: 1 packet, 1,701 bytes\n- Total Application Data: 1,256 bytes HTML\n\nUser Experience:\n- URL typed: www.example.com\n- Page load time: 324ms\n- Content displayed: "Example Domain" webpage\n- Browser shows: completed webpage with title, text\n- User happy: successfully browsed to desired site\n\nApplication Layer Success!`,
                            protocol: 'Complete HTTP Transaction'
                        }
                    ]
                },
                email: {
                    name: 'Email System (SMTP/IMAP)',
                    steps: [
                        {
                            title: 'Compose Email',
                            userData: 'Email Client: Outlook\nCompose new message\nTo: friend@example.com\nSubject: Hello!\nMessage: How are you?',
                            serverData: 'SMTP Server waiting\nReady to accept mail\nListening on port 25/587',
                            phase: 'Email Composition',
                            explanation: 'User writes email in client application. Email client prepares to send message using SMTP protocol.',
                            wireshark: `Email Client Preparation:\n\n[No network traffic yet]\nUser typing email in Outlook\nRecipient: friend@example.com\nSubject: Hello!\nMessage body: How are you?\n\nEmail client preparing:\n- Validate email addresses\n- Format message according to RFC 5322\n- Prepare for SMTP transmission`,
                            protocol: 'Email Client Application'
                        },
                        {
                            title: 'SMTP Authentication',
                            userData: 'Connecting to mail server\nSMTP server: mail.company.com\nAuthenticating user credentials',
                            serverData: 'SMTP Server responding\nRequesting authentication\nChecking credentials',
                            phase: 'SMTP Connection & Authentication',
                            explanation: 'Email client connects to SMTP server and authenticates user before being allowed to send email.',
                            wireshark: `Frame 1: SMTP Connection\nSimple Mail Transfer Protocol\n    220 mail.company.com ESMTP Postfix\n    \nFrame 2: SMTP EHLO\nC: EHLO outlook.company.com\nS: 250-mail.company.com\nS: 250-PIPELINING\nS: 250-SIZE 10240000\nS: 250-VRFY\nS: 250-ETRN\nS: 250-AUTH PLAIN LOGIN\nS: 250 8BITMIME\n\nFrame 3: SMTP AUTH\nC: AUTH LOGIN\nS: 334 VXNlcm5hbWU6\nC: am9obi5kb2U=  (base64: john.doe)\nS: 334 UGFzc3dvcmQ6\nC: bXlwYXNzd29yZA==  (base64: mypassword)\nS: 235 2.7.0 Authentication successful`,
                            protocol: 'SMTP Authentication'
                        },
                        {
                            title: 'Send Email Message',
                            userData: 'Authentication successful\nSending email message\nRecipient: friend@example.com',
                            serverData: 'Message accepted\nQueuing for delivery\nRelay to destination server',
                            phase: 'Email Message Transfer',
                            explanation: 'SMTP client sends the actual email message to server, which accepts it and queues for delivery.',
                            wireshark: `Frame 4: SMTP Message Transfer\nC: MAIL FROM:<john.doe@company.com>\nS: 250 2.1.0 Ok\n\nC: RCPT TO:<friend@example.com>\nS: 250 2.1.5 Ok\n\nC: DATA\nS: 354 End data with <CR><LF>.<CR><LF>\n\nC: From: john.doe@company.com\nC: To: friend@example.com\nC: Subject: Hello!\nC: Date: Mon, 15 Jan 2024 10:30:00 -0500\nC: Message-ID: <abc123@company.com>\nC: \nC: How are you?\nC: \nC: .\nS: 250 2.0.0 Ok: queued as 12AB34CD\n\nC: QUIT\nS: 221 2.0.0 Bye`,
                            protocol: 'SMTP Message Transfer'
                        },
                        {
                            title: 'Email Delivery',
                            userData: 'Message sent successfully\nDelivery confirmation\nMessage queued for recipient',
                            serverData: 'Delivering to example.com\nSMTP relay in progress\nMessage handed off',
                            phase: 'Inter-Server Email Relay',
                            explanation: 'SMTP server relays email to recipient\'s email server through series of SMTP transfers.',
                            wireshark: `Frame 5: SMTP Server-to-Server Relay\nSMTP connection: mail.company.com -> mail.example.com\n\nC: EHLO mail.company.com\nS: 250-mail.example.com Hello mail.company.com\n\nC: MAIL FROM:<john.doe@company.com>\nS: 250 OK\n\nC: RCPT TO:<friend@example.com>\nS: 250 OK\n\nC: DATA\n[Same message content transferred]\nS: 250 Message accepted for delivery\n\nMessage Status:\n- Sent from: john.doe@company.com\n- Delivered to: mail.example.com\n- Queue ID: XYZ789\n- Status: Successfully relayed`,
                            protocol: 'SMTP Relay Transfer'
                        },
                        {
                            title: 'Recipient Retrieves Email',
                            userData: 'Email delivery complete\nMessage in recipient\'s inbox\nAwaiting retrieval',
                            serverData: 'Friend\'s email client\nConnecting via IMAP\nDownloading new messages',
                            phase: 'Email Retrieval (IMAP)',
                            explanation: 'Recipient\'s email client uses IMAP protocol to download new messages from their mail server.',
                            wireshark: `Frame 6: IMAP Email Retrieval\nInternet Message Access Protocol\n\nC: A001 LOGIN friend password123\nS: A001 OK LOGIN completed\n\nC: A002 SELECT INBOX\nS: * 1 EXISTS\nS: * 1 RECENT\nS: * FLAGS (\\Answered \\Flagged \\Deleted \\Seen \\Draft)\nS: A002 OK [READ-WRITE] SELECT completed\n\nC: A003 FETCH 1 (FLAGS BODY[])\nS: * 1 FETCH (FLAGS () BODY[] {245}\nS: From: john.doe@company.com\nS: To: friend@example.com\nS: Subject: Hello!\nS: Date: Mon, 15 Jan 2024 10:30:00 -0500\nS: \nS: How are you?\nS: )\nS: A003 OK FETCH completed\n\nEmail successfully retrieved and displayed in recipient\'s email client!`,
                            protocol: 'IMAP Message Retrieval'
                        }
                    ]
                },
                ftp: {
                    name: 'File Transfer (FTP/SFTP)',
                    steps: [
                        {
                            title: 'FTP Client Connection',
                            userData: 'FTP Client: FileZilla\nServer: ftp.example.com\nUser: webmaster\nConnecting...',
                            serverData: 'FTP Server waiting\nListening on port 21\nReady for connections',
                            phase: 'FTP Connection Initiation',
                            explanation: 'User opens FTP client and initiates connection to FTP server for file transfer operations.',
                            wireshark: `Frame 1: FTP Connection\nFile Transfer Protocol (FTP)\n\nTCP Connection to port 21 established\n\nS: 220 Welcome to FTP Server\n\nFTP Control Connection Status:\n- Server: ftp.example.com (192.168.1.100)\n- Port: 21 (FTP Control)\n- Connection: Established\n- Mode: Active (default)\n\nClient preparing for authentication...`,
                            protocol: 'FTP Control Connection'
                        },
                        {
                            title: 'User Authentication',
                            userData: 'Sending credentials\nUsername: webmaster\nPassword: ********\nWaiting for auth response',
                            serverData: 'Validating credentials\nChecking permissions\nAuthentication successful',
                            phase: 'FTP Authentication Process',
                            explanation: 'FTP client sends username and password to server. Server validates credentials and grants access.',
                            wireshark: `Frame 2: FTP Authentication\nC: USER webmaster\nS: 331 Password required for webmaster\n\nC: PASS ********\nS: 230 User webmaster logged in\n\nFrame 3: System Information\nC: SYST\nS: 215 UNIX Type: L8\n\nC: PWD\nS: 257 "/home/webmaster" is current directory\n\nAuthentication Status:\n- User: webmaster\n- Status: Logged in successfully\n- Home Directory: /home/webmaster\n- Permissions: Read/Write access granted`,
                            protocol: 'FTP Authentication'
                        },
                        {
                            title: 'Directory Navigation',
                            userData: 'Browsing directories\nCurrent: /home/webmaster\nNavigating to: /var/www/html\nListing files...',
                            serverData: 'Processing commands\nDirectory: /var/www/html\nSending file list',
                            phase: 'FTP Directory Operations',
                            explanation: 'User navigates filesystem on remote server and lists files in target directory.',
                            wireshark: `Frame 4: Directory Operations\nC: CWD /var/www/html\nS: 250 CWD command successful\n\nC: PWD\nS: 257 "/var/www/html" is current directory\n\nC: TYPE A\nS: 200 Type set to A\n\nC: PASV\nS: 227 Entering Passive Mode (192,168,1,100,195,149)\n\nData Connection: 192.168.1.100:50069\n\nC: LIST\nS: 150 Opening ASCII mode data connection for file list\n[Data Channel] File listing transmitted\nS: 226 Transfer complete\n\nDirectory Contents:\n- index.html (2,453 bytes)\n- style.css (1,289 bytes)\n- image.jpg (45,672 bytes)\n- script.js (3,107 bytes)`,
                            protocol: 'FTP Directory Commands'
                        },
                        {
                            title: 'File Upload',
                            userData: 'Selecting local file: newpage.html\nSize: 5,234 bytes\nUploading to server...\nTransfer in progress',
                            serverData: 'Receiving file upload\nFilename: newpage.html\nStoring to: /var/www/html/\nWrite in progress',
                            phase: 'FTP File Transfer (Upload)',
                            explanation: 'Client uploads file to server using FTP data connection. File is transferred in binary or ASCII mode.',
                            wireshark: `Frame 5: File Upload\nC: TYPE I  (Binary mode)\nS: 200 Type set to I\n\nC: PASV\nS: 227 Entering Passive Mode (192,168,1,100,195,150)\n\nC: STOR newpage.html\nS: 150 Opening BINARY mode data connection\n\nData Connection Transfer:\n[TCP Data on port 50070]\nFile Content: newpage.html (5,234 bytes)\n<!DOCTYPE html>\n<html>\n<head><title>New Page</title></head>\n<body>\n<h1>Welcome to the new page!</h1>\n<p>This page was uploaded via FTP.</p>\n</body>\n</html>\n\nS: 226 Transfer complete\n\nUpload Statistics:\n- Filename: newpage.html\n- Size: 5,234 bytes transferred\n- Time: 0.8 seconds\n- Speed: 6.5 KB/s\n- Status: Upload successful`,
                            protocol: 'FTP Data Transfer (Binary)'
                        },
                        {
                            title: 'Session Complete',
                            userData: 'Upload successful\nFile: newpage.html uploaded\nDisconnecting from server\nFTP session ended',
                            serverData: 'File saved successfully\nLocation: /var/www/html/newpage.html\nClient disconnected\nSession closed',
                            phase: 'FTP Session Termination',
                            explanation: 'File transfer completed successfully. Client disconnects from FTP server and closes session.',
                            wireshark: `Frame 6: Session Termination\nC: QUIT\nS: 221 Goodbye\n\nTCP Connection Closed\n\nFTP Session Summary:\n- Server: ftp.example.com\n- User: webmaster\n- Duration: 45 seconds\n- Files transferred: 1 upload\n- Data transferred: 5,234 bytes\n- Operations performed:\n  * Login authentication\n  * Directory navigation\n  * Directory listing\n  * File upload (newpage.html)\n  * Clean disconnect\n\nResult: File successfully uploaded and accessible at:\nhttp://example.com/newpage.html\n\nFTP Application Layer transaction complete!`,
                            protocol: 'FTP Session Complete'
                        }
                    ]
                },
                dns: {
                    name: 'DNS Resolution Process',
                    steps: [
                        {
                            title: 'DNS Query Initiation',
                            userData: 'Application needs IP for:\nwww.google.com\nChecking local DNS cache\nCache miss - need DNS lookup',
                            serverData: 'DNS Resolver ready\nListening on port 53\nReady to process queries',
                            phase: 'DNS Cache Check',
                            explanation: 'Application needs to resolve domain name to IP address. Local DNS cache is checked first.',
                            wireshark: `DNS Resolution Process Starting:\n\n[Application Layer Request]\nApplication: Web Browser\nTarget: www.google.com\nProtocol: HTTP (needs IP address first)\n\nLocal DNS Cache Check:\n- Cache entry: NOT FOUND\n- TTL expired: N/A\n- Must query DNS server\n\nPreparing DNS query packet...`,
                            protocol: 'Application DNS Request'
                        },
                        {
                            title: 'Recursive DNS Query',
                            userData: 'Sending DNS query\nTarget: www.google.com\nQuery type: A record\nTo DNS server: 8.8.8.8',
                            serverData: 'DNS Server (8.8.8.8)\nReceived query\nStarting recursive lookup\nChecking cache',
                            phase: 'DNS Recursive Resolution',
                            explanation: 'Client sends DNS query to configured DNS server (like 8.8.8.8). Server starts recursive lookup process.',
                            wireshark: `Frame 1: DNS Query\nDomain Name System (query)\n    Transaction ID: 0xabcd\n    Flags: 0x0100 (Standard query, Recursion desired)\n    Questions: 1\n        Name: www.google.com\n        Type: A (Host Address)\n        Class: IN (Internet)\n    Answer RRs: 0\n    Authority RRs: 0\n    Additional RRs: 0\n\nUDP packet sent to 8.8.8.8:53\nQuery: "What is the IP address for www.google.com?"`,
                            protocol: 'DNS Query (UDP)'
                        },
                        {
                            title: 'Root Server Consultation',
                            userData: 'Waiting for DNS response\nRecursive lookup in progress\nRoot servers being queried',
                            serverData: 'Querying root servers\nResponse: Contact .com servers\nNext: .com authoritative servers',
                            phase: 'DNS Root Server Lookup',
                            explanation: 'DNS server queries root servers to find which servers handle .com domains.',
                            wireshark: `Frame 2: Root Server Query (Internal)\nDNS Recursive Server -> Root Server\n\nQuery to Root Server (198.41.0.4):\n    Question: www.google.com A record\n    \nRoot Server Response:\n    Authority Section:\n        com. 172800 IN NS a.gtld-servers.net\n        com. 172800 IN NS b.gtld-servers.net\n        [Additional .com nameservers...]\n    \nAdditional Section:\n        a.gtld-servers.net. 172800 IN A 192.5.6.30\n        b.gtld-servers.net. 172800 IN A 192.33.14.30\n        \n"For .com domains, contact these servers"`,
                            protocol: 'DNS Root Server Response'
                        },
                        {
                            title: 'Authoritative Server Query',
                            userData: 'Root server responded\nQuerying .com servers\nLooking for google.com authority',
                            serverData: 'Contacting google.com servers\nAuthoritative response\nGetting IP address',
                            phase: 'DNS Authoritative Lookup',
                            explanation: 'DNS server contacts Google\'s authoritative name servers to get the actual IP address.',
                            wireshark: `Frame 3: Authoritative Server Query\nDNS Recursive Server -> Google DNS (ns1.google.com)\n\nQuery to ns1.google.com (216.239.32.10):\n    Question: www.google.com A record\n    \nGoogle Authoritative Response:\n    Answer Section:\n        www.google.com. 300 IN A 172.217.12.4\n        www.google.com. 300 IN A 172.217.12.36\n        www.google.com. 300 IN A 172.217.12.68\n        www.google.com. 300 IN A 172.217.12.100\n    \n"www.google.com has these IP addresses (TTL: 300 seconds)"`,
                            protocol: 'DNS Authoritative Response'
                        },
                        {
                            title: 'DNS Response to Client',
                            userData: 'DNS query complete\nReceived IP addresses:\n172.217.12.4\n172.217.12.36\nCaching result',
                            serverData: 'Sending response to client\nMultiple IP addresses\nTTL: 300 seconds\nQuery successful',
                            phase: 'DNS Response Delivery',
                            explanation: 'DNS server sends the resolved IP addresses back to client and caches result for future queries.',
                            wireshark: `Frame 4: DNS Response to Client\nDomain Name System (response)\n    Transaction ID: 0xabcd (matches original query)\n    Flags: 0x8180 (Standard response, Recursion available, No error)\n    Questions: 1\n        www.google.com: type A, class IN\n    Answer RRs: 4\n        www.google.com. 300 IN A 172.217.12.4\n        www.google.com. 300 IN A 172.217.12.36\n        www.google.com. 300 IN A 172.217.12.68\n        www.google.com. 300 IN A 172.217.12.100\n    Authority RRs: 0\n    Additional RRs: 0\n\nClient receives multiple IP addresses for load balancing\nDNS resolution time: 45ms`,
                            protocol: 'DNS Complete Response'
                        },
                        {
                            title: 'Application Uses Result',
                            userData: 'DNS resolution successful\nUsing IP: 172.217.12.4\nInitiating HTTP connection\nBrowsing to Google homepage',
                            serverData: 'DNS service complete\nResult cached (TTL: 300s)\nReady for next DNS query\nApplication layer handoff',
                            phase: 'Application Layer Continuation',
                            explanation: 'Application receives IP address and uses it to establish connection. DNS result is cached for 5 minutes (TTL=300).',
                            wireshark: `DNS Resolution Complete!\n\nApplication Layer Summary:\n- Domain requested: www.google.com\n- IP addresses received: 4 addresses\n- Primary IP: 172.217.12.4\n- Resolution time: 45ms\n- Cache TTL: 300 seconds (5 minutes)\n\nSubsequent Application Traffic:\n- TCP connection to 172.217.12.4:443\n- TLS handshake for HTTPS\n- HTTP GET request for homepage\n\nDNS Cache Entry Created:\n- www.google.com -> 172.217.12.4\n- Expires: 2024-01-15 10:35:00 UTC\n- Future queries will use cache (faster!)\n\nApplication Layer DNS resolution successful!`,
                            protocol: 'DNS to HTTP Handoff'
                        }
                    ]
                },
                streaming: {
                    name: 'Video Streaming (HTTP/RTMP)',
                    steps: [
                        {
                            title: 'Video Request',
                            userData: 'Video Player: VLC\nURL: http://stream.example.com/video.mp4\nInitiating stream request',
                            serverData: 'Streaming Server\nContent: video.mp4\nReady to stream\nListening for requests',
                            phase: 'Stream Request Initiation',
                            explanation: 'User clicks play on video. Video player application prepares to request streaming content from server.',
                            wireshark: `Video Streaming Request:\n\n[Application Layer - Video Player]\nPlayer: VLC Media Player\nProtocol: HTTP Live Streaming (HLS)\nTarget URL: http://stream.example.com/video.mp4\nUser Action: Click Play\n\nPlayer Preparation:\n- Parse streaming URL\n- Determine streaming protocol\n- Initialise network buffers\n- Prepare for HTTP requests`,
                            protocol: 'Video Player Application'
                        },
                        {
                            title: 'HTTP Stream Request',
                            userData: 'Sending HTTP request\nGET /video.mp4\nRange: bytes=0-\nAccept: video/*',
                            serverData: 'HTTP request received\nVideo file: video.mp4\nPreparing stream response\nContent-Type: video/mp4',
                            phase: 'HTTP Streaming Protocol',
                            explanation: 'Video player sends HTTP request to streaming server. Uses Range requests to support seeking and progressive download.',
                            wireshark: `Frame 1: HTTP Streaming Request\nHypertext Transfer Protocol\n    GET /video.mp4 HTTP/1.1\r\n\n    Request Method: GET\n    Request URI: /video.mp4\n    Request Version: HTTP/1.1\n    Host: stream.example.com\r\n\n    User-Agent: VLC/3.0.16 LibVLC/3.0.16\r\n\n    Accept: video/*\r\n\n    Range: bytes=0-1048575  (First 1MB)\r\n\n    Connection: keep-alive\r\n\n    \r\n\n\nStreaming-specific headers:\n- Range requests for partial content\n- Keep-alive for persistent connection\n- Video-specific Accept header`,
                            protocol: 'HTTP Range Request'
                        },
                        {
                            title: 'Stream Response Start',
                            userData: 'Receiving video stream\nHTTP 206 Partial Content\nBuffer: Filling (15%)\nVideo codec: H.264',
                            serverData: 'Streaming video data\nHTTP chunked transfer\nSending first segment\nBitrate: 2 Mbps',
                            phase: 'Video Stream Data Transfer',
                            explanation: 'Server responds with HTTP 206 (Partial Content) and begins streaming video data in chunks.',
                            wireshark: `Frame 2: HTTP Streaming Response\nHTTP/1.1 206 Partial Content\r\n\n    Response Version: HTTP/1.1\n    Status Code: 206\n    Response Phrase: Partial Content\n    Content-Type: video/mp4\r\n\n    Content-Length: 52428800  (50MB total)\r\n\n    Content-Range: bytes 0-1048575/52428800\r\n\n    Accept-Ranges: bytes\r\n\n    Cache-Control: no-cache\r\n\n    Transfer-Encoding: chunked\r\n\n    \r\n\n[Video Data Chunk 1]\n000000: 00 00 00 20 66 74 79 70  69 73 6f 6d 00 00 02 00  |... ftypisom....|\n000010: 69 73 6f 6d 69 73 6f 32  61 76 63 31 6d 70 34 31  |isomiso2avc1mp41|\n[H.264 video data continues...]`,
                            protocol: 'HTTP Video Streaming'
                        },
                        {
                            title: 'Buffering & Playback',
                            userData: 'Buffer: 35% full\nPlayback started\nVideo: 1080p @ 30fps\nAudio: AAC 128kbps\nRequesting next segment',
                            serverData: 'Streaming segment 2\nAdaptive bitrate active\nMonitoring client buffer\nNext chunk ready',
                            phase: 'Adaptive Streaming Playback',
                            explanation: 'Video player buffers content and starts playback while continuing to request additional segments.',
                            wireshark: `Frame 3-15: Continuous Video Streaming\n[Multiple HTTP requests for video segments]\n\nSegment Requests:\nGET /video.mp4 HTTP/1.1\nRange: bytes=1048576-2097151  (Segment 2)\n\nGET /video.mp4 HTTP/1.1\nRange: bytes=2097152-3145727  (Segment 3)\n\n[Responses with video data chunks]\nHTTP/1.1 206 Partial Content\nContent-Range: bytes 1048576-2097151/52428800\n[Video data payload...]\n\nStreaming Statistics:\n- Segments received: 3\n- Buffer level: 35% (8.5 seconds)\n- Current bitrate: 2.1 Mbps\n- Playback quality: 1080p\n- No buffering interruptions`,
                            protocol: 'HTTP Progressive Download'
                        },
                        {
                            title: 'Quality Adaptation',
                            userData: 'Network congestion detected\nBuffer level: 15%\nRequesting lower quality\nAdapting to 720p stream',
                            serverData: 'Quality adaptation request\nSwitching to 720p variant\nBitrate: 1.2 Mbps\nSending lower quality stream',
                            phase: 'Adaptive Bitrate Streaming',
                            explanation: 'Player detects network issues and requests lower quality stream to prevent buffering interruptions.',
                            wireshark: `Frame 16: Adaptive Quality Request\nGET /video_720p.mp4 HTTP/1.1\nRange: bytes=3145728-4194303\nHost: stream.example.com\nUser-Agent: VLC/3.0.16\nX-Player-Buffer: 15%  (Custom header)\nX-Requested-Quality: 720p  (Quality adaptation)\n\nFrame 17: Quality Adaptation Response\nHTTP/1.1 206 Partial Content\nContent-Type: video/mp4\nContent-Range: bytes 0-1048575/31457280  (Smaller file)\nX-Video-Quality: 720p\nX-Video-Bitrate: 1200000\n\n[Lower quality video data]\n720p H.264 video stream (reduced bitrate)\n\nAdaptive Streaming Benefits:\n- Prevents playback interruption\n- Maintains smooth viewing experience\n- Automatically adjusts to network conditions\n- User sees continuous video playback`,
                            protocol: 'Adaptive HTTP Streaming'
                        },
                        {
                            title: 'Streaming Complete',
                            userData: 'Video playback finished\nTotal played: 10 minutes\nBuffer: Empty\nStream connection closed',
                            serverData: 'Stream session ended\nTotal data sent: 45 MB\nQuality adaptations: 2\nSession successful',
                            phase: 'Stream Session Termination',
                            explanation: 'Video playback completes successfully. Player and server close streaming session and cleanup resources.',
                            wireshark: `Streaming Session Complete:\n\nSession Summary:\n- Video duration: 10 minutes\n- Total data transferred: 45 MB\n- Average bitrate: 1.8 Mbps\n- Quality levels used: 1080p, 720p\n- Segments downloaded: 38\n- Buffer underruns: 0\n- Adaptation events: 2\n\nHTTP Streaming Efficiency:\n- Protocol: HTTP/1.1 with Range requests\n- Connection reuse: Keep-alive used\n- Adaptive streaming: Quality adjusted automatically\n- User experience: Smooth playback, no interruptions\n\nFinal HTTP Connection Close:\nConnection: close\nTCP FIN packets exchanged\nStreaming session terminated cleanly\n\nApplication Layer video streaming successful!`,
                            protocol: 'HTTP Stream Session Complete'
                        }
                    ]
                }
            }
        };

        // Initialise demo when page loads
        document.addEventListener('DOMContentLoaded', function() {
            updateUI();
            updateStepList();
        });

        function switchDemo(demoType) {
            demo.currentDemo = demoType;
            demo.currentStep = 0;
            stopDemo();
            updateUI();
            updateStepList();
        }

        function nextStep() {
            const currentDemoData = demo.demos[demo.currentDemo];
            if (demo.currentStep < currentDemoData.steps.length - 1) {
                demo.currentStep++;
                updateUI();
                updateStepList();
            }
        }

        function prevStep() {
            if (demo.currentStep > 0) {
                demo.currentStep--;
                updateUI();
                updateStepList();
            }
        }

        function playDemo() {
            if (demo.isPlaying) {
                stopDemo();
            } else {
                demo.isPlaying = true;
                document.getElementById('play-btn').textContent = '‚è∏Ô∏è Pause';
                
                demo.playInterval = setInterval(() => {
                    const currentDemoData = demo.demos[demo.currentDemo];
                    if (demo.currentStep < currentDemoData.steps.length - 1) {
                        nextStep();
                    } else {
                        stopDemo();
                    }
                }, 3000);
            }
        }

        function stopDemo() {
            demo.isPlaying = false;
            document.getElementById('play-btn').textContent = '‚ñ∂Ô∏è Auto Play';
            if (demo.playInterval) {
                clearInterval(demo.playInterval);
                demo.playInterval = null;
            }
        }

        function resetDemo() {
            stopDemo();
            demo.currentStep = 0;
            updateUI();
            updateStepList();
        }

        function updateUI() {
            const currentDemoData = demo.demos[demo.currentDemo];
            const currentStepData = currentDemoData.steps[demo.currentStep];
            
            // Update demo info
            document.getElementById('demo-title').textContent = currentDemoData.name;
            document.getElementById('step-title').textContent = `${demo.currentStep + 1}. ${currentStepData.title}`;
            document.getElementById('step-counter').textContent = `Step ${demo.currentStep + 1} of ${currentDemoData.steps.length}`;
            
            // Update data displays
            document.getElementById('user-data').textContent = currentStepData.userData;
            document.getElementById('server-data').textContent = currentStepData.serverData;
            
            // Update phase and explanation
            document.getElementById('current-phase').textContent = currentStepData.phase;
            document.getElementById('step-explanation').textContent = currentStepData.explanation;
            
            // Update Wireshark display
            document.getElementById('wireshark-content').textContent = currentStepData.wireshark;
            
            // Update protocol info
            document.getElementById('protocol-info').textContent = currentStepData.protocol;
            
            // Update navigation buttons
            document.getElementById('prev-btn').disabled = demo.currentStep === 0;
            document.getElementById('next-btn').disabled = demo.currentStep === currentDemoData.steps.length - 1;
            
            // Update demo selector buttons
            document.querySelectorAll('.demo-selector button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`button[onclick="switchDemo('${demo.currentDemo}')"]`).classList.add('active');
        }

        function updateStepList() {
            const currentDemoData = demo.demos[demo.currentDemo];
            const stepList = document.getElementById('step-list');
            
            stepList.innerHTML = '';
            currentDemoData.steps.forEach((step, index) => {
                const stepItem = document.createElement('div');
                stepItem.className = `step-item ${index === demo.currentStep ? 'active' : ''} ${index < demo.currentStep ? 'completed' : ''}`;
                stepItem.innerHTML = `
                    <span class="step-number">${index + 1}</span>
                    <span class="step-title">${step.title}</span>
                `;
                stepItem.onclick = () => {
                    demo.currentStep = index;
                    updateUI();
                    updateStepList();
                };
                stepList.appendChild(stepItem);
            });
        }
        
        // Dark Mode Functions
        function toggleDarkMode(){document.body.classList.toggle('dark-mode');const isDark=document.body.classList.contains('dark-mode');localStorage.setItem('darkMode',isDark);updateDarkModeButton(isDark);}
        function updateDarkModeButton(isDark){const icon=document.getElementById('darkModeIcon');const text=document.getElementById('darkModeText');const btn=document.querySelector('.dark-mode-toggle');if(btn){btn.setAttribute('aria-pressed',isDark?'true':'false');}if(isDark){icon.textContent='‚òÄÔ∏è';text.textContent='Light Mode';}else{icon.textContent='üåô';text.textContent='Dark Mode';}}
        window.addEventListener('DOMContentLoaded',function(){const savedDarkMode=localStorage.getItem('darkMode')==='true';if(savedDarkMode){document.body.classList.add('dark-mode');updateDarkModeButton(true);}});
    </script>
    <footer style="background: rgba(0, 0, 0, 0.3); padding: 20px; margin-top: 40px; border-top: 2px solid rgba(255, 255, 255, 0.1); text-align: center; border-radius: 10px;">
        <p style="margin: 0; font-size: 0.9em; line-height: 1.6;">
            Created by Alex for educational purposes ONLY. Please contact me should you spot any errors or wish to query anything.
        </p>
    </footer>
</body>
</html>
